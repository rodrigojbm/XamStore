@{
    var pedido = ViewBag.Pedido as XamStore.Domain.Entities.Operacao.Pedido;
    var pedidoItens = ViewBag.PedidoItens as ICollection<XamStore.Domain.Entities.Operacao.PedidoItem>;
}
<div class="top_bg">
    <div class="wrap">
        <div class="main_top">
            <h2 class="style">Finalizar compra</h2>
        </div>
    </div>
</div>
<script src="../../Scripts/jquery-1.10.2.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../../Scripts/carrinho.js"></script>
<div class="main_bg">
    <div class="wrap">
        <div class="main">
            <div class="panel panel-default">
                <div class="panel-heading">Produtos</div>
                <ul class="list-group">
                    @{
                        var i = 0;
                        var totalGeral = pedido?.Valor + pedido?.Frete;
                        foreach (var pedidoI in pedidoItens)
                        {
                            <li class="list-group-item" id="@pedidoI.Produto.Id" style="@if (i % 2 == 0) {@Html.Raw("background:#f8f8f8;")}">
                                <div class="carrinho-produto-imagem" style="float:left;"><img src="~/Imagens/Produto/@pedidoI.Produto.ProdutoImagens.FirstOrDefault().Imagem.Nome" width="80" height="80" style="border-radius:50%;padding:3px; border:1px solid #ccc;" /></div>
                                <div class="carrinho-produto-descricao" style="float:left;margin-left:10%;width:20%;margin-top:30px;">@pedidoI.Produto.Descricao</div>
                                <div class="carrinho-produto-quatidade" style="float:left;margin-left:10%;margin-top:30px;">Quantidade @pedidoI.Quantidade</div>
                                <div style="clear:both"></div>
                            </li>
                            i++;
                        }
                        <li class="list-group-item" style="text-align:left">Frete : @($"{pedido.Frete}")</li>
                        <li class="list-group-item" style="text-align:left">Valor : @($"{pedido.Valor}")</li>
                        <li class="list-group-item" style="text-align:left">Total : @($"{totalGeral}")</li>
                    }
                </ul>
            </div>

            @Html.ActionLink("Finalizar e pagar com pag seguro", "FinalizarCompra", "Carrinho", new { pedidoId = pedido.Id }, new { @class = "btn btn-primary" })

            <div style="clear:both"></div>
        </div>
    </div>
</div>
